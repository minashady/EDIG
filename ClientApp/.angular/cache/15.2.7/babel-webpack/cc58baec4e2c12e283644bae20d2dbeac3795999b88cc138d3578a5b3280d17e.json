{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { catchError, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"../../../Services/webSocket.service\";\nimport * as i4 from \"@angular/common\";\nfunction StocksComponent_tr_48_td_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stock_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(stock_r1.priceHistories[stock_r1.priceHistories.length - 1].price);\n  }\n}\nfunction StocksComponent_tr_48_td_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stock_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(stock_r1.priceHistories[stock_r1.priceHistories.length - 1].timeStamp);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"price-up\": a0,\n    \"price-down\": a1\n  };\n};\nfunction StocksComponent_tr_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, StocksComponent_tr_48_td_7_Template, 2, 1, \"td\", 23);\n    i0.ɵɵtemplate(8, StocksComponent_tr_48_td_8_Template, 2, 1, \"td\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const stock_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stock_r1.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(stock_r1.symbol);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(6, _c0, stock_r1.currentPrice > stock_r1.priceHistories[stock_r1.priceHistories.length - 1].price, stock_r1.currentPrice < stock_r1.priceHistories[stock_r1.priceHistories.length - 1].price));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", stock_r1.currentPrice, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", stock_r1.priceHistories && stock_r1.priceHistories.length > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", stock_r1.priceHistories && stock_r1.priceHistories.length > 0);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"show\": a0\n  };\n};\nconst _c2 = function (a0) {\n  return {\n    \"display\": a0\n  };\n};\nexport class StocksComponent {\n  constructor(fb, http, webSocketService) {\n    this.fb = fb;\n    this.http = http;\n    this.webSocketService = webSocketService;\n    this.isModalOpen = false;\n    this.stocks = [];\n    this.form = this.fb.group({\n      stockSymbol: [''],\n      orderType: [''],\n      quantity: ['']\n    });\n  }\n  openModal() {\n    this.isModalOpen = true;\n  }\n  closeModal() {\n    this.isModalOpen = false;\n  }\n  ngOnInit() {\n    this.getStocks();\n  }\n  getStocks() {\n    const headers = new HttpHeaders().set('X-Api-Key', 'EDIG_Assessment');\n    this.http.get('http://localhost:7272/stocks', {\n      headers\n    }).subscribe(data => {\n      this.stocks = data;\n    });\n    this.webSocketService.getMessages().pipe(catchError(err => {\n      console.error('Error in subscribe:', err);\n      return throwError(err);\n    })).subscribe(PriceUpdate => {\n      console.log(\"frontend updating\");\n      // Find the stock that was updated\n      const stock = this.stocks.find(s => s.symbol === PriceUpdate.symbol);\n      if (stock) {\n        // Get the previous price from PriceHistories\n        const previousPrice = stock.priceHistories[stock.priceHistories.length - 1].price;\n        // Update the current price\n        stock.currentPrice = PriceUpdate.price;\n        // Add the new price to PriceHistories\n        stock.priceHistories.push({\n          price: PriceUpdate.price,\n          timeStamp: new Date().toISOString()\n        });\n      }\n    });\n  }\n  placeOrder() {\n    const headers = new HttpHeaders().set('X-Api-Key', 'EDIG_Assessment');\n    const order = {\n      Symbol: this.form.get('stockSymbol')?.value,\n      Type: this.form.get('orderType')?.value,\n      Quantity: this.form.get('quantity')?.value,\n      TimeStamp: new Date().toISOString()\n    };\n    this.http.post('http://localhost:7272/order', order, {\n      headers\n    }).subscribe(response => {\n      console.log(response);\n    });\n    this.closeModal();\n  }\n}\nStocksComponent.ɵfac = function StocksComponent_Factory(t) {\n  return new (t || StocksComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.WebSocketService));\n};\nStocksComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StocksComponent,\n  selectors: [[\"app-stocks\"]],\n  decls: 49,\n  vars: 8,\n  consts: [[1, \"text-md-center\", \"m-5\"], [2, \"background-color\", \"floralwhite\", \"border-radius\", \"10px\", \"box-shadow\", \"5px 5px 15px rgba(0,0,0,0.3)\", \"padding\", \"20px\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"orderModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", 3, \"ngClass\", \"ngStyle\"], [\"role\", \"document\", 1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"orderModalLabel\", 1, \"modal-title\"], [1, \"modal-body\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"stockSymbol\"], [\"type\", \"text\", \"id\", \"stockSymbol\", \"formControlName\", \"stockSymbol\", \"placeholder\", \"Enter Stock Symbol\", 1, \"form-control\"], [\"for\", \"orderType\"], [\"formControlName\", \"orderType\", \"id\", \"orderType\", 1, \"form-control\"], [\"for\", \"quantity\"], [\"type\", \"number\", \"id\", \"quantity\", \"formControlName\", \"quantity\", \"placeholder\", \"Enter Quantity\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"table\", \"table-striped\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [4, \"ngIf\"]],\n  template: function StocksComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\", 0);\n      i0.ɵɵtext(1, \"Sample Stocks\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function StocksComponent_Template_button_click_3_listener() {\n        return ctx.openModal();\n      });\n      i0.ɵɵtext(4, \" Place Order \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6)(9, \"h5\", 7);\n      i0.ɵɵtext(10, \"Place Order\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 8)(12, \"form\", 9)(13, \"div\", 10)(14, \"label\", 11);\n      i0.ɵɵtext(15, \"Stock Symbol\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 10)(18, \"label\", 13);\n      i0.ɵɵtext(19, \"Order Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"select\", 14)(21, \"option\");\n      i0.ɵɵtext(22, \"Buy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"option\");\n      i0.ɵɵtext(24, \"Sell\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"div\", 10)(26, \"label\", 15);\n      i0.ɵɵtext(27, \"Quantity\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(28, \"input\", 16);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(29, \"div\", 17)(30, \"button\", 18);\n      i0.ɵɵlistener(\"click\", function StocksComponent_Template_button_click_30_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵtext(31, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function StocksComponent_Template_button_click_32_listener() {\n        return ctx.placeOrder();\n      });\n      i0.ɵɵtext(33, \"Place Order\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(34, \"table\", 19)(35, \"thead\")(36, \"tr\")(37, \"th\", 20);\n      i0.ɵɵtext(38, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"th\", 20);\n      i0.ɵɵtext(40, \"Symbol\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"th\", 20);\n      i0.ɵɵtext(42, \"Current Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"th\", 20);\n      i0.ɵɵtext(44, \"Past Price\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"th\", 20);\n      i0.ɵɵtext(46, \"Time Stamp\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(47, \"tbody\");\n      i0.ɵɵtemplate(48, StocksComponent_tr_48_Template, 9, 9, \"tr\", 21);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(4, _c1, ctx.isModalOpen))(\"ngStyle\", i0.ɵɵpureFunction1(6, _c2, ctx.isModalOpen ? \"block\" : \"none\"));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(36);\n      i0.ɵɵproperty(\"ngForOf\", ctx.stocks);\n    }\n  },\n  dependencies: [i4.NgClass, i4.NgForOf, i4.NgIf, i4.NgStyle, i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["HttpHeaders","catchError","throwError","i0","StocksComponent","constructor","fb","http","webSocketService","stocks","form","group","stockSymbol","orderType","quantity","openModal","isModalOpen","closeModal","ngOnInit","getStocks","headers","set","get","subscribe","data","getMessages","pipe","err","console","error","PriceUpdate","log","stock","find","s","symbol","previousPrice","priceHistories","length","price","currentPrice","push","timeStamp","Date","toISOString","placeOrder","order","Symbol","value","Type","Quantity","TimeStamp","post","response","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["W:\\97_Applying\\EDIG\\Stock_Exchange\\Stock_Exchange\\ClientApp\\src\\app\\stocks\\stocks.component.ts","W:\\97_Applying\\EDIG\\Stock_Exchange\\Stock_Exchange\\ClientApp\\src\\app\\stocks\\stocks.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { HttpHeaders } from '@angular/common/http';\r\nimport { WebSocketService } from '../../../Services/webSocket.service';\r\nimport { catchError, throwError } from 'rxjs';\r\nimport { ReactiveFormsModule,FormBuilder, FormGroup } from '@angular/forms';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-stocks',\r\n  templateUrl: './stocks.component.html',\r\n  styleUrls: ['./stocks.component.css']\r\n})\r\nexport class StocksComponent implements OnInit {\r\n  stocks: StocksDetails[];\r\n  form: FormGroup;\r\n  isModalOpen = false;\r\n\r\n  constructor(private fb: FormBuilder, private http: HttpClient, private webSocketService: WebSocketService) { // Inject WebSocketService\r\n    this.stocks = [];\r\n    this.form = this.fb.group({\r\n      stockSymbol: [''],\r\n      orderType: [''],\r\n      quantity: ['']\r\n    });\r\n  }\r\n  openModal() {\r\n    this.isModalOpen = true;\r\n  }\r\n\r\n  closeModal() {\r\n    this.isModalOpen = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getStocks();\r\n  }\r\n\r\n  getStocks() {\r\n    const headers = new HttpHeaders().set('X-Api-Key', 'EDIG_Assessment');\r\n\r\n    this.http.get<StocksDetails[]>('http://localhost:7272/stocks', { headers }).subscribe(data => {\r\n      this.stocks = data;\r\n    });\r\n\r\n    this.webSocketService.getMessages().pipe(\r\n      catchError(err => {\r\n        console.error('Error in subscribe:', err);\r\n        return throwError(err);\r\n      })\r\n    ).subscribe((PriceUpdate: StockUpdate) => { // Specify the type of update\r\n      console.log(\"frontend updating\");\r\n      // Find the stock that was updated\r\n      const stock = this.stocks.find(s => s.symbol === PriceUpdate.symbol);\r\n\r\n      if (stock) {\r\n        // Get the previous price from PriceHistories\r\n        const previousPrice = stock.priceHistories[stock.priceHistories.length - 1].price;\r\n\r\n        // Update the current price\r\n        stock.currentPrice = PriceUpdate.price;\r\n\r\n        // Add the new price to PriceHistories\r\n        stock.priceHistories.push({ price: PriceUpdate.price, timeStamp: new Date().toISOString() });\r\n      }\r\n    });\r\n  }\r\n  placeOrder() {\r\n    const headers = new HttpHeaders().set('X-Api-Key', 'EDIG_Assessment');\r\n    const order = {\r\n      Symbol: this.form.get('stockSymbol')?.value,\r\n      Type: this.form.get('orderType')?.value,\r\n      Quantity: this.form.get('quantity')?.value,\r\n      TimeStamp: new Date().toISOString()\r\n    };\r\n\r\n    this.http.post('http://localhost:7272/order', order, { headers }).subscribe(response => {\r\n      console.log(response);\r\n    });\r\n    this.closeModal();\r\n  }\r\n\r\n}\r\n\r\nexport interface StocksDetails {\r\n  title: string,\r\n  symbol: string,\r\n  currentPrice: number,\r\n  priceHistories: PriceHistory[]\r\n}\r\n\r\nexport interface PriceHistory {\r\n  price: number,\r\n  timeStamp: string\r\n}\r\nexport interface StockUpdate {\r\n  symbol: string;\r\n  price: number;\r\n}\r\n","<h3 class=\"text-md-center m-5\">Sample Stocks</h3>\r\n<div style=\"background-color: floralwhite; border-radius: 10px; box-shadow: 5px 5px 15px rgba(0,0,0,0.3); padding: 20px;\">\r\n  <!-- Place Order Button -->\r\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"openModal()\">\r\n    Place Order\r\n  </button>\r\n\r\n  <!-- Order Modal -->\r\n  <div class=\"modal\" [ngClass]=\"{'show': isModalOpen}\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderModalLabel\" aria-hidden=\"true\" [ngStyle]=\"{'display': isModalOpen ? 'block' : 'none'}\">  \r\n    <div class=\"modal-dialog\" role=\"document\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"orderModalLabel\">Place Order</h5>\r\n          <!--<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>-->\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <form [formGroup]=\"form\">\r\n            <div class=\"form-group\">\r\n              <label for=\"stockSymbol\">Stock Symbol</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"stockSymbol\" formControlName=\"stockSymbol\" placeholder=\"Enter Stock Symbol\">\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"orderType\">Order Type</label>\r\n              <select class=\"form-control\" formControlName=\"orderType\" id=\"orderType\">\r\n                <option>Buy</option>\r\n                <option>Sell</option>\r\n              </select>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label for=\"quantity\">Quantity</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"quantity\" formControlName=\"quantity\" placeholder=\"Enter Quantity\">\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\" (click)=\"closeModal()\">Close</button>\r\n          <button type=\"button\" class=\"btn btn-primary\" (click)=\"placeOrder()\">Place Order</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <table class=\"table table-striped\">\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Title</th>\r\n        <th scope=\"col\">Symbol</th>\r\n        <th scope=\"col\">Current Price</th>\r\n        <th scope=\"col\">Past Price</th>\r\n        <th scope=\"col\">Time Stamp</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr *ngFor=\"let stock of stocks\">\r\n        <td>{{stock.title}}</td>\r\n        <td>{{stock.symbol}}</td>\r\n        <td [ngClass]=\"{'price-up': stock.currentPrice > stock.priceHistories[stock.priceHistories.length - 1].price, 'price-down': stock.currentPrice < stock.priceHistories[stock.priceHistories.length - 1].price}\">\r\n          {{stock.currentPrice}}\r\n        </td>\r\n        <td *ngIf=\"stock.priceHistories && stock.priceHistories.length > 0\">{{stock.priceHistories[stock.priceHistories.length - 1].price}}</td>\r\n        <td *ngIf=\"stock.priceHistories && stock.priceHistories.length > 0\">{{stock.priceHistories[stock.priceHistories.length - 1].timeStamp}}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  </div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}