{"ast":null,"code":"import { WebSocketSubject } from 'rxjs/webSocket';\nimport { throwError } from 'rxjs';\nimport { tap, catchError } from 'rxjs/operators'; // Import tap and catchError\nimport * as i0 from \"@angular/core\";\nexport class WebSocketService {\n  constructor() {\n    this.socket$ = new WebSocketSubject('ws://localhost:7272/priceUpdateHub');\n  }\n  sendMessage(symbol, price) {\n    this.socket$.next({\n      symbol,\n      price\n    });\n  }\n  getMessages() {\n    return this.socket$.pipe(tap(message => console.log('Message received by WebSocketSubject:', message)),\n    // Log every message received\n    catchError(err => {\n      console.error('Error in WebSocketSubject:', err);\n      return throwError(err);\n    }));\n  }\n}\nWebSocketService.ɵfac = function WebSocketService_Factory(t) {\n  return new (t || WebSocketService)();\n};\nWebSocketService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: WebSocketService,\n  factory: WebSocketService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AACA,SAASA,gBAAgB,QAAQ,gBAAgB;AACjD,SAAqBC,UAAU,QAAQ,MAAM;AAC7C,SAASC,GAAG,EAAEC,UAAU,QAAQ,gBAAgB,CAAC,CAAC;;AAKlD,OAAM,MAAOC,gBAAgB;EAG3BC;IACE,IAAI,CAACC,OAAO,GAAG,IAAIN,gBAAgB,CAAC,oCAAoC,CAAC;EAC3E;EAEAO,WAAW,CAACC,MAAc,EAAEC,KAAa;IACvC,IAAI,CAACH,OAAO,CAACI,IAAI,CAAC;MAAEF,MAAM;MAAEC;IAAK,CAAE,CAAC;EACtC;EAEAE,WAAW;IACT,OAAO,IAAI,CAACL,OAAO,CAACM,IAAI,CACtBV,GAAG,CAACW,OAAO,IAAIC,OAAO,CAACC,GAAG,CAAC,uCAAuC,EAAEF,OAAO,CAAC,CAAC;IAAE;IAC/EV,UAAU,CAACa,GAAG,IAAG;MACfF,OAAO,CAACG,KAAK,CAAC,4BAA4B,EAAED,GAAG,CAAC;MAChD,OAAOf,UAAU,CAACe,GAAG,CAAC;IACxB,CAAC,CAAC,CACH;EACH;;AAnBWZ,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;SAAhBA,gBAAgB;EAAAc,SAAhBd,gBAAgB;EAAAe,YAFf;AAAM","names":["WebSocketSubject","throwError","tap","catchError","WebSocketService","constructor","socket$","sendMessage","symbol","price","next","getMessages","pipe","message","console","log","err","error","factory","providedIn"],"sourceRoot":"","sources":["W:\\97_Applying\\EDIG\\Stock_Exchange\\Stock_Exchange\\ClientApp\\Services\\webSocket.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { WebSocketSubject } from 'rxjs/webSocket';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { tap, catchError } from 'rxjs/operators'; // Import tap and catchError\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WebSocketService {\r\n  private socket$: WebSocketSubject<any>;\r\n\r\n  constructor() {\r\n    this.socket$ = new WebSocketSubject('ws://localhost:7272/priceUpdateHub');\r\n  }\r\n\r\n  sendMessage(symbol: string, price: number): void {\r\n    this.socket$.next({ symbol, price });\r\n  }\r\n\r\n  getMessages(): Observable<any> {\r\n    return this.socket$.pipe(\r\n      tap(message => console.log('Message received by WebSocketSubject:', message)), // Log every message received\r\n      catchError(err => {\r\n        console.error('Error in WebSocketSubject:', err);\r\n        return throwError(err);\r\n      })\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}